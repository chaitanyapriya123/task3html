pipeline {
    agent any
    stages {
        stage('Pull image') {
            steps {
               withCredentials([usernamePassword(credentialsId: 'dockerid', passwordVariable: 'dockeridPassword', usernameVariable: 'dockeridUser')]) {
            sh "docker login -u ${env.dockeridUser} -p ${env.dockeridPassword}"
            sh 'docker pull chaitanyapriya/htmltask:latest'
            }
            }
        }
        stage('Run container') {
            steps {
                script{
            sh 'docker run -dt -p 80:80 --name htmlcontainer chaitanyapriya/htmltask:latest '
            }
            }
        }
    }
}
